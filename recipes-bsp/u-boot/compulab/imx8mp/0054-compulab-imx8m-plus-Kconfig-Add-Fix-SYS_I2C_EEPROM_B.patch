From 04febb32903b31502aaa3ae2e1b84e8a49df2652 Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Fri, 15 Oct 2021 12:25:04 +0300
Subject: [PATCH] compulab: imx8m-plus: Kconfig: Add/Fix
 SYS_I2C_EEPROM_BUS/ADDR

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 board/compulab/som-imx8m-plus/Kconfig | 4 ++--
 board/compulab/ucm-imx8m-plus/Kconfig | 8 ++++++++
 include/configs/compulab-imx8m-plus.h | 2 --
 3 files changed, 10 insertions(+), 4 deletions(-)

diff --git a/board/compulab/som-imx8m-plus/Kconfig b/board/compulab/som-imx8m-plus/Kconfig
index ff41aa8332..c46b0bfc42 100644
--- a/board/compulab/som-imx8m-plus/Kconfig
+++ b/board/compulab/som-imx8m-plus/Kconfig
@@ -15,8 +15,8 @@ config DEFAULT_DTB
 	default "sbc-som-imx8m-plus.dtb"
 
 config SYS_I2C_EEPROM_BUS
-	hex "SOM eeprom bus address"
-	default 0x1
+	int "SOM eeprom bus address"
+	default 1
 
 config SYS_I2C_EEPROM_ADDR
 	hex "SOM eeprom dev address"
diff --git a/board/compulab/ucm-imx8m-plus/Kconfig b/board/compulab/ucm-imx8m-plus/Kconfig
index d8da110150..790d32f023 100644
--- a/board/compulab/ucm-imx8m-plus/Kconfig
+++ b/board/compulab/ucm-imx8m-plus/Kconfig
@@ -14,6 +14,14 @@ config DEFAULT_DTB
 	depends on TARGET_UCM_IMX8M_PLUS
 	default "sbc-ucm-imx8m-plus.dtb"
 
+config SYS_I2C_EEPROM_BUS
+	int "SOM eeprom bus address"
+	default 1
+
+config SYS_I2C_EEPROM_ADDR
+	hex "SOM eeprom dev address"
+	default 0x50
+
 config SYS_I2C_EEPROM_BUS_SB
 	hex "SB eeprom bus address"
 	default 0x4
diff --git a/include/configs/compulab-imx8m-plus.h b/include/configs/compulab-imx8m-plus.h
index e08c4d8b94..8aa7d2e7f0 100644
--- a/include/configs/compulab-imx8m-plus.h
+++ b/include/configs/compulab-imx8m-plus.h
@@ -275,6 +275,4 @@
 #define CONFIG_VIDEO_BMP_LOGO
 #endif
 
-#define CONFIG_SYS_I2C_EEPROM_BUS 0x1
-#define CONFIG_SYS_I2C_EEPROM_ADDR 0x50
 #endif
-- 
2.17.1

