From a24514c79edbe2015f355c84be9dc104eaf8edc1 Mon Sep 17 00:00:00 2001
From: Valentin Raevsky <valentin@compulab.co.il>
Date: Tue, 19 Oct 2021 08:27:18 +0300
Subject: [PATCH] ucm-imx8m-plus: Enable LVDS touch screen

Signed-off-by: Valentin Raevsky <valentin@compulab.co.il>
---
 .../boot/dts/compulab/ucm-imx8m-plus.dts      | 21 +++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/arch/arm64/boot/dts/compulab/ucm-imx8m-plus.dts b/arch/arm64/boot/dts/compulab/ucm-imx8m-plus.dts
index bd3255bed5e9..f1956aa5bd44 100644
--- a/arch/arm64/boot/dts/compulab/ucm-imx8m-plus.dts
+++ b/arch/arm64/boot/dts/compulab/ucm-imx8m-plus.dts
@@ -632,6 +632,21 @@
 			};
 		};
 	};
+
+	goodix_ts@5d {
+		compatible = "goodix,gt911";
+		reg = <0x5d>;
+
+		interrupt-parent = <&gpio2>;
+		interrupts = <20 IRQ_TYPE_LEVEL_HIGH>;
+
+		pinctrl-names = "default";
+		pinctrl-0 = <&touchscreen1_pins>;
+
+		irq-gpios = <&gpio2 20 GPIO_ACTIVE_HIGH>;
+		reset-gpios = <&pca9555 7 GPIO_ACTIVE_HIGH>;
+		status = "okay";
+	};
 };
 
 &flexcan1 {
@@ -1282,6 +1297,12 @@
 			MX8MP_IOMUXC_SAI1_TXD0__GPIO4_IO12	0x00
 		>;
 	};
+
+	touchscreen1_pins: ts1grp {
+		fsl,pins = <
+			MX8MP_IOMUXC_SD2_WP__GPIO2_IO20		0x00
+		>;
+	};
 };
 
 &vpu_g1 {
-- 
2.17.1

